# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –≤ Supabase

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –ø–æ—á—Ç—É –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º, –∏ –Ω–µ–ª—å–∑—è –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç.

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email –≤ Supabase Dashboard

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard**: [https://supabase.com/dashboard](https://supabase.com/dashboard)
2. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: `Authentication` ‚Üí `Providers` ‚Üí `Email`
4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Email –≤–∫–ª—é—á–µ–Ω** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email Templates

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: `Authentication` ‚Üí `Email Templates`
2. **–í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω**: `Confirm signup`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:
   - **Subject**: `–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à email –¥–ª—è Cleanapp`
   - **Body**: –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Å—ã–ª–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞:**
```
<h2>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à email</h2>
<p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–∞—à email:</p>
<p><a href="{{ .ConfirmationURL }}">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email</a></p>
<p>–ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä:</p>
<p>{{ .ConfirmationURL }}</p>
``` 

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redirect URLs

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: `Authentication` ‚Üí `URL Configuration`
2. **–î–æ–±–∞–≤—å—Ç–µ Redirect URLs**:
   - `cleanapp://auth-callback` (–¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
   - `http://localhost:3000/auth/callback` (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - `https://yourdomain.com/auth/callback` (–¥–ª—è production, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ–º–µ–Ω)

3. **Site URL**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ `cleanapp://` –∏–ª–∏ –≤–∞—à –¥–æ–º–µ–Ω

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Email

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: `Settings` ‚Üí `Auth`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:
   - ‚úÖ **Enable email confirmations**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–æ
   - ‚úÖ **Enable email signup**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–æ
   - ‚úÖ **Enable email change**: –ü–æ –∂–µ–ª–∞–Ω–∏—é

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è production)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Supabase –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π SMTP —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

**–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–π SMTP:**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: `Settings` ‚Üí `Auth` ‚Üí `SMTP Settings`
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP** (Gmail, SendGrid, Mailgun –∏ —Ç.–¥.):
   - **Host**: smtp.gmail.com (–¥–ª—è Gmail)
   - **Port**: 587
   - **User**: –≤–∞—à email
   - **Password**: –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - **Sender email**: email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
   - **Sender name**: Cleanapp

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–ø–æ–ª–Ω–æ—Å—Ç—å—é, –Ω–µ hot reload)
2. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É** (–≤–∫–ª—é—á–∞—è –ø–∞–ø–∫—É "–°–ø–∞–º")
4. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –≤ –ø–∏—Å—å–º–µ
5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –ø–∏—Å—å–º–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–°–ø–∞–º"**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase Dashboard**: `Logs` ‚Üí `Auth Logs`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Email Templates** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —à–∞–±–ª–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–≤–æ–π SMTP)
5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π email** (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ email –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–∏—Å—å–º–∞)

### –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redirect URLs** –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ deep linking –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –≤—Ä—É—á–Ω—É—é** –∏ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å email confirmation:**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: `Authentication` ‚Üí `Providers` ‚Üí `Email`
2. **–û—Ç–∫–ª—é—á–∏—Ç–µ**: "Confirm email"
3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –≠—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! –í production –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email.

## üì± Deep Linking (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Å—ã–ª–æ–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å deep linking:

### Android (android/app/src/main/AndroidManifest.xml):
```xml
<intent-filter>
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />
    <data android:scheme="cleanapp" android:host="auth-callback" />
</intent-filter>
```

### iOS (ios/Runner/Info.plist):
```xml
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>cleanapp</string>
        </array>
    </dict>
</array>
```

## ‚úÖ –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. ‚úÖ Email confirmation –≤–∫–ª—é—á–µ–Ω
2. ‚úÖ Email templates –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. ‚úÖ Redirect URLs –¥–æ–±–∞–≤–ª–µ–Ω—ã
4. ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ
5. ‚úÖ –ü–∏—Å—å–º–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ –ø–æ—á—Ç—É
6. ‚úÖ –°—Å—ã–ª–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å email –∏ –≤—Ö–æ–¥–∏—Ç—å –≤ –∞–∫–∫–∞—É–Ω—Ç!
